schema: '2.0'
stages:
  positional_encoding:
    cmd: python src/features/positional_encoding.py
    deps:
    - path: src/features/tokenizer_transformer.py
      md5: 956f64d25460e3f08733fcf1a3bb54d2
      size: 3193
    params:
      params.yaml:
        positional_encoding.d_model: 512
        positional_encoding.input_vocab_size: 7765
        positional_encoding.target_vocab_size: 7010
    outs:
    - path: en_emb
      md5: 6847d9896051891a8756a87774a3e0f0
      size: 2862
    - path: pt_emb
      md5: 241c714fd767577fe528fd934b2f2cdf
      size: 2952
  load:
    cmd: python src/data/load_dataset.py data/
    params:
      params.yaml:
        load.model_name: ted_hrlr_translate/pt_to_en
  train_transformer:
    cmd: python src/models/train_transformer.py
    deps:
    - path: src/features/positional_encoding.py
      md5: 1c672fa22c9f8ae0f07f00cee48f49bb
      size: 2507
    params:
      params.yaml:
        train_transformer.EPOCHS: 2
        train_transformer.d_model: 128
        train_transformer.dff: 512
        train_transformer.dropout_rate: 0.1
        train_transformer.num_attention_heads: 8
        train_transformer.num_layers: 4
    outs:
    - path: dvclive.json
      md5: ebdee26e80f6eac723d91a4a95ceed83
      size: 119
    - path: dvclive/scalars
      md5: 128f6a40de187339ded7f3793aefbf1d.dir
      size: 509165
      nfiles: 2
